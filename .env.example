# ============================================================
# OpenContext 环境变量配置
# 复制为 .env 后修改，config.yaml 通过 ${VAR:default} 引用这些值
# ============================================================

# 通用配置
# --------
# 基础路径，日志和持久化文件的根目录
CONTEXT_PATH=.

# 模块总开关
# ----------
CAPTURE_ENABLED=true            # 上下文采集模块
PROCESSING_ENABLED=true         # 上下文处理模块
CONSUMPTION_ENABLED=false       # 消费模块（tips/todos 等，服务器模式建议关闭）
WEB_ENABLED=true                # Web 服务器
SCHEDULER_ENABLED=true          # 任务调度器

# 处理器开关
# ----------
TEXT_CHAT_PROCESSOR_ENABLED=true       # 文本聊天处理器
DOCUMENT_PROCESSOR_ENABLED=true        # 文档处理器
CONTEXT_MERGER_ENABLED=true            # 知识合并器

# 采集器开关
# ----------
TEXT_CHAT_CAPTURE_ENABLED=true         # 文本聊天采集

# 任务开关
# --------
MEMORY_COMPRESSION_TASK_ENABLED=true   # 记忆压缩任务
HIERARCHY_SUMMARY_ENABLED=true         # 事件层级摘要任务（日/周/月）

# ============================================================
# LLM 配置（必填）
# 使用 OpenAI 兼容接口，支持火山引擎/豆包
# ============================================================
LLM_API_KEY=your-api-key-here
LLM_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
LLM_MODEL=doubao-seed-1-6-251015

# VLM 配置（视觉语言模型，图片/截图处理时必填）
VLM_API_KEY=your-api-key-here
VLM_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
VLM_MODEL=doubao-seed-1-6-251015

# Embedding 配置（向量嵌入模型，语义检索必填）
EMBEDDING_API_KEY=your-api-key-here
EMBEDDING_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
EMBEDDING_MODEL=doubao-embedding-large-text-240915

# ============================================================
# MySQL 配置（关系型存储后端）
# 存储 profile、entity 及上下文元数据
# ============================================================
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=root123
MYSQL_DATABASE=opencontext

# ============================================================
# Redis 配置（分布式任务调度、缓存、分布式锁）
# 多实例部署必需
# ============================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================================
# VikingDB 配置（火山引擎向量数据库）
# 使用 VikingDB 作为向量后端时需填写
# 也可在代码中通过 VOLCENGINE_ACCESS_KEY_ID 作为备选
# ============================================================
VIKINGDB_ACCESS_KEY_ID=your-access-key-id
VIKINGDB_SECRET_ACCESS_KEY=your-secret-access-key
VIKINGDB_REGION=cn-beijing

# ============================================================
# API 认证（生产环境建议启用）
# ============================================================
CONTEXT_API_KEY=your-secure-api-key

# ============================================================
# 调度器配置
# ============================================================
SCHEDULER_EXECUTOR_MAX_CONCURRENT=5    # 最大并发任务数
